# ブックマネージャー

## プロジェクト概要

ブックマネージャーは、Kotlin と Spring Boot で構築された Web アプリケーションで、書籍と関連する操作を管理するために設計されています。これは、書籍「Kotlin サーバーサイドプログラミング実践開発」の第 6 章から第 8 章のサンプルコードに基づいています。

## アーキテクチャ

このアプリケーションは、関心事の明確な分離を持つクリーンな階層型アーキテクチャに従っています：

- **プレゼンテーション層**：コントローラー、フォーム、その他の UI 関連コンポーネントを含みます
- **アプリケーション層**：ビジネス操作を調整するアプリケーションサービスを含みます
- **ドメイン層**：ドメインモデルとビジネスロジックを含みます
- **インフラストラクチャ層**：データベースアクセスとその他のインフラストラクチャに関する事項を含みます

## 技術スタック

- **言語**：Kotlin
- **フレームワーク**：Spring Boot
- **データベース**：PostgreSQL
- **キャッシング**：Redis
- **セキュリティ**：Spring Security
- **API ドキュメント**：Spring REST Docs
- **テスト**：JUnit, Spring Boot Test, Testcontainers
- **ロギング**：Log4j2
- **モニタリング**：Micrometer, Prometheus
- **トレーシング**：OpenTelemetry, Zipkin
- **通信**：gRPC (Protocol Buffers)

## 主な機能

- 書籍管理（CRUD 操作）
- ユーザー認証と認可
- レンタル管理
- RESTful API
- gRPC サービス

## プロジェクト構造

```
src/
├── main/
│   ├── kotlin/
│   │   └── com/
│   │       └── book/
│   │           └── manager/
│   │               ├── application/    # アプリケーションサービス
│   │               ├── domain/         # ドメインモデルとビジネスロジック
│   │               ├── greeter/        # gRPC サービス
│   │               ├── infrastructure/ # データベースアクセスとその他のインフラストラクチャ
│   │               └── presentation/   # コントローラーと UI コンポーネント
│   ├── proto/                          # Protocol Buffer 定義
│   └── resources/                      # 設定ファイル
├── test/                               # ユニットテスト
└── intTest/                            # 統合テスト
```

## 開発ガイドライン

- Kotlin のコーディング規約に従う
- すべての新機能にユニットテストを書く
- レイヤー間のテストには統合テストを使用する
- すべての公開 API を文書化する
- 既存のアーキテクチャパターンに従う
